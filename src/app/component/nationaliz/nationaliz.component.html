<div id="background">
  <p-toast position="top-center"></p-toast>
  <div class="card">
    <div class="card-body">
      <div id="title" class="my-3">
       <strong class="fs-4"> Nationalize + Flagpedia</strong>
      </div>
      <p>
        Esta es una API en la que al introducir tu nombre, es analizado y te dice cuales son los paises
        en que es más probable que hayas nacido. Además también se muestra la bandera al utilizar la API de Flagpedia
      </p>
      <span class="p-input-icon-right">
        <i *ngIf="cargando" class="pi pi-spin pi-spinner"></i>
        <input type="text" pInputText [(ngModel)]="nombre" placeholder="Escribe tu nombre">
        <div (click)="getCountries()" id="btnSeach" class="btn"><i class="pi pi-search" style="color: crimson"></i></div>
      </span>
      <div *ngIf="mostrarResultado">
        <div class="mt-2">
          Es más probable que hayas nacido en:
        </div>
        <div class="mt-2 text-danger" *ngIf="error">
          404 No se encontraron datos sobre este nombre, intenta con otro
        </div>
        <div *ngIf="!error" class="mt-3">
          <table class="table">
            <tbody>
            <tr>
              <th scope="row">País</th>
              <td *ngFor="let paisS of paises">{{paisS.country_id}}</td>
            </tr>
            <tr>
              <th scope="row">Probabilidad</th>
              <td *ngFor="let paisS of paises">{{paisS.probability}}</td>
            </tr>
            <tr>
              <th scope="row">Bandera</th>
              <td *ngFor="let paisS of paises"><img src="https://flagcdn.com/w40/{{paisS.country_id.toLowerCase()}}.png"></td>
            </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </div>
</div>
